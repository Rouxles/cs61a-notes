<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Mutability#Objects#An object is a bundle of data and behaviour, with each type of object called a class
Every value in Python is an object.
All objects have attributes, and objects often have associated methods
Example (Strings)#A string is an object — try running type(&quot;&quot;) in Python console and seeing what it outputs.
Strings have attributes (for example the data inside it) and also has methods such as string.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Mutability" />
<meta property="og:description" content="Mutability#Objects#An object is a bundle of data and behaviour, with each type of object called a class
Every value in Python is an object.
All objects have attributes, and objects often have associated methods
Example (Strings)#A string is an object — try running type(&quot;&quot;) in Python console and seeing what it outputs.
Strings have attributes (for example the data inside it) and also has methods such as string." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cs61a.rouxl.es/docs/week-6/content/mutability/" /><meta property="article:section" content="docs" />



<title>Mutability | CS61A Notes</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.53a5dbabc20bef689642d11498e1d272a687a7fcab9f3044da32a395789d5002.css" integrity="sha256-U6Xbq8IL72iWQtEUmOHScqaHp/yrnzBE2jKjlXidUAI=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.d34a30adbb1a9c702c3b5d3100f0815d86e3619aed46ac7f63c5a78cbad105e1.js" integrity="sha256-00owrbsanHAsO10xAPCBXYbjYZrtRqx/Y8WnjLrRBeE=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>CS61A Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 1</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-1/content/introduction/" class="">Introduction to the Basics of Python</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 2</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/control/" class="">Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/higher-order-functions/" class="">Higher Order Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/environment/" class="">Environment Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 3</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/design/" class="">Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/decorators/" class="">Decorators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 4</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/recursion/" class="">Recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/tree-recursion/" class="">Tree Recursion</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 5</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/containers/" class="">Containers</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/sequences/" class="">Sequences</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/data-abstraction/" class="">Data Abstraction &#43; Dictionaries</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 6</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/trees/" class="">Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/mutability/" class=" active">Mutability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 7</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/iterators/" class="">Iterators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/generators/" class="">Generators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/objects/" class="">Objects</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 8</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/representation/" class="">Representation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/recursive-data/" class="">Recursive Data</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 9</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-9/content/efficiency/" class="">Efficiency</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>How To Succeed</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/succeed/content/general-tips/" class="">General Tips</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/contributors/" class="">Contributors</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Mutability</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#objects">Objects</a>
      <ul>
        <li><a href="#example-strings">Example (Strings)</a></li>
      </ul>
    </li>
    <li><a href="#list-mutation">List Mutation</a>
      <ul>
        <li><a href="#method-mutation-removing">Method Mutation (Removing)</a></li>
        <li><a href="#mutation-with-slicing">Mutation with Slicing</a></li>
        <li><a href="#python-weirdness">Python Weirdness</a></li>
      </ul>
    </li>
    <li><a href="#tuples">Tuples</a></li>
    <li><a href="#identity-vs-equality">Identity vs Equality</a></li>
    <li><a href="#mutable-functions-a-function-with-changing-state">&lsquo;Mutable&rsquo; Functions (A function with changing state)</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="mutability">
  Mutability
  <a class="anchor" href="#mutability">#</a>
</h1>
<h2 id="objects">
  Objects
  <a class="anchor" href="#objects">#</a>
</h2>
<p>An <strong>object</strong> is a bundle of data and behaviour, with each type of object called a <strong>class</strong></p>
<p>Every value in Python is an object.</p>
<p>All objects have attributes, and objects often have associated methods</p>
<h3 id="example-strings">
  Example (Strings)
  <a class="anchor" href="#example-strings">#</a>
</h3>
<p>A <strong>string</strong> is an object — try running <code>type(&quot;&quot;)</code> in Python console and seeing what it outputs.</p>
<p>Strings have attributes (for example the data inside it) and also has methods such as <code>string.upper()</code>.</p>
<h2 id="list-mutation">
  List Mutation
  <a class="anchor" href="#list-mutation">#</a>
</h2>
<p>Lists (like dictionaries) are object types that can be <strong>mutated</strong>. This means that the value bound to the name can change without reassignment. This can potentially be very useful, but at times, can also be very dangerous due to the way Python works with lists.</p>
<p>Two methods to mutate lists:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]
s<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">3</span>)
s <span style="color:#75715e"># [1, 2, 3]</span>

l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]
l<span style="color:#f92672">.</span>extend([<span style="color:#ae81ff">4</span>])
l <span style="color:#75715e"># [1, 2, 4]</span>
l<span style="color:#f92672">.</span>extend([<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>])
l <span style="color:#75715e"># [1, 2, 4, 3, 2]</span>
</code></pre></div><p>While these look identical to <code>s = s + [3]</code>, they behave very differently. This is because the <code>+</code> operator makes a <strong>shallow copy</strong> of the list rather than directly mutating the list itself. This makes a difference when two names are pointing to the same list object.</p>
<p>Try running the code below on PythonTutor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
lst2 <span style="color:#f92672">=</span> lst1
lst3 <span style="color:#f92672">=</span> lst2
<span style="color:#75715e"># Notice how after the above 3 statements are executed, all 3 names point to the same list object</span>
lst1 <span style="color:#f92672">=</span> lst1 <span style="color:#f92672">+</span> [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>] <span style="color:#75715e"># Makes a copy of the list, does not mutate the original</span>
lst2<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">4</span>)
print(lst1) <span style="color:#75715e"># [1, 2, 3, 3, 2]</span>
print(lst2, lst3) <span style="color:#75715e"># [1, 2, 3, 4] [1, 2, 3, 4]</span>
</code></pre></div><p>Notice how even after I updated only <code>lst2</code>, <code>lst3</code> got updated alongside it. This is one of the dangers of mutation (and is why I generally prefer to use a method that doesn&rsquo;t mutate anything: it makes debugging a lot easier when variables aren&rsquo;t changing without explicitly being assigned to change.)</p>
<h3 id="method-mutation-removing">
  Method Mutation (Removing)
  <a class="anchor" href="#method-mutation-removing">#</a>
</h3>
<ul>
<li><code>pop()</code> returns and removes the last element in the list</li>
<li><code>remove()</code> removes the first element equal to the argument</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]
s<span style="color:#f92672">.</span>pop()
s <span style="color:#75715e"># [1]</span>

l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>]
l<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">2</span>)
l <span style="color:#75715e"># [1, 4]</span>
</code></pre></div><h3 id="mutation-with-slicing">
  Mutation with Slicing
  <a class="anchor" href="#mutation-with-slicing">#</a>
</h3>
<p>You can also mutate lists with list slicing or indexing:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
lst[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hi&#34;</span>
lst <span style="color:#75715e"># [&#34;Hi&#39;, 2, 3, 4, 5]</span>

lst[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">6</span>]
lst <span style="color:#75715e"># [&#34;Hi&#34;, 25, 6, 4, 5]</span>

lst[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>] <span style="color:#75715e"># Inserting Elements</span>
lst <span style="color:#75715e"># [&#34;Hi&#34;, 3, 2, 1, 25, 6, 4, 5]</span>

lst[:<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> [] <span style="color:#75715e"># Deleting Elements</span>
lst <span style="color:#75715e"># [6, 4, 5]</span>

lst[len(lst):] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>] <span style="color:#75715e"># Appending elements</span>
lst <span style="color:#75715e"># [6, 4, 5, 3]</span>
</code></pre></div><p>All the statements above <strong>mutate</strong> the list that we have.</p>
<h3 id="python-weirdness">
  Python Weirdness
  <a class="anchor" href="#python-weirdness">#</a>
</h3>
<p>In Python, doing <code>lst = lst + [1]</code> is different to <code>lst += [1]</code>.</p>
<p><code>+=</code> actually acts as <code>.extend([...])</code> rather than making a copy. As a result, doing <code>lst += [1]</code> mutates the original list, while <code>lst = lst + [1]</code> does not mutate the original. Weird behaviour, sure, but this is very important to know.</p>
<h2 id="tuples">
  Tuples
  <a class="anchor" href="#tuples">#</a>
</h2>
<p>Tuples are a data type that are <strong>immutable</strong>. This means that once the tuple is created and assigned to a name, you can be confident that the tuple will always remain the same unless the name is bound to a different value.</p>
<p>Tuples are also a sequence, which means you can view them as essentially immutable lists.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">empty <span style="color:#f92672">=</span> () <span style="color:#75715e"># empty tuple</span>

coordinates <span style="color:#f92672">=</span> (<span style="color:#ae81ff">32</span>, <span style="color:#ae81ff">21</span>) <span style="color:#75715e"># tuple with multiple elements</span>

temperature <span style="color:#f92672">=</span> (<span style="color:#ae81ff">30</span>,) <span style="color:#75715e"># tuple with 1 element (the , at the end is necessary for python to parse it as a tuple)</span>
</code></pre></div><p>The read-only list operators work with tuples:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">t1 <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>)
t2 <span style="color:#f92672">=</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>)

t3 <span style="color:#f92672">=</span> t1 <span style="color:#f92672">+</span> t2 
t3 <span style="color:#75715e"># (1, 2, 3, 4)</span>

<span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> t2 <span style="color:#75715e"># False</span>
<span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> t3 <span style="color:#75715e"># True</span>

t4 <span style="color:#f92672">=</span> t3[<span style="color:#ae81ff">1</span>:] <span style="color:#75715e"># (2, 3, 4)</span>
</code></pre></div><h2 id="identity-vs-equality">
  Identity vs Equality
  <a class="anchor" href="#identity-vs-equality">#</a>
</h2>
<p>Identity vs Equality essentially boils down to <code>is</code> vs <code>==</code>. The <code>is</code> Boolean operator checks whether the objects are the same (for example in the case of a list, whether the two names are pointing to the same list), while the <code>==</code> operator just checks whether the values are the same.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]
lst2 <span style="color:#f92672">=</span> lst1
lst3 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]

lst1 <span style="color:#f92672">is</span> lst2 <span style="color:#75715e"># True</span>
lst1 <span style="color:#f92672">is</span> lst3 <span style="color:#75715e"># False</span>
lst1 <span style="color:#f92672">==</span> lst3 <span style="color:#75715e"># True</span>
</code></pre></div><h2 id="mutable-functions-a-function-with-changing-state">
  &lsquo;Mutable&rsquo; Functions (A function with changing state)
  <a class="anchor" href="#mutable-functions-a-function-with-changing-state">#</a>
</h2>
<p>You can have a function that changes state by having a mutable object in the parent frame:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bank</span>(initial_fund):
    bank_account <span style="color:#f92672">=</span> [initial_fund]
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">withdraw</span>(amount):
        <span style="color:#66d9ef">if</span> bank_account[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&lt;</span> amount:
            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;NO!&#34;</span>
        <span style="color:#66d9ef">else</span>:
            bank_account[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> bank_account[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> amount
            <span style="color:#66d9ef">return</span> bank_account
    <span style="color:#66d9ef">return</span> withdraw
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">withdrawer <span style="color:#f92672">=</span> bank(<span style="color:#ae81ff">100</span>)

withdrawer(<span style="color:#ae81ff">25</span>) <span style="color:#75715e"># 75</span>
withdrawer(<span style="color:#ae81ff">25</span>) <span style="color:#75715e"># 50</span>
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#objects">Objects</a>
      <ul>
        <li><a href="#example-strings">Example (Strings)</a></li>
      </ul>
    </li>
    <li><a href="#list-mutation">List Mutation</a>
      <ul>
        <li><a href="#method-mutation-removing">Method Mutation (Removing)</a></li>
        <li><a href="#mutation-with-slicing">Mutation with Slicing</a></li>
        <li><a href="#python-weirdness">Python Weirdness</a></li>
      </ul>
    </li>
    <li><a href="#tuples">Tuples</a></li>
    <li><a href="#identity-vs-equality">Identity vs Equality</a></li>
    <li><a href="#mutable-functions-a-function-with-changing-state">&lsquo;Mutable&rsquo; Functions (A function with changing state)</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












