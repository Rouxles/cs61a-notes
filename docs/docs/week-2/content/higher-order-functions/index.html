<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Higher Order Functions#Designing Functions#Describing Functions#   Aspect Example     The domain of a function is the expected range of inputs (similarly to a domain in mathematics) x is a string.   The range of a function is the set of output values that could be returned Function square returns a non-negative number.   The behavior of a (pure) function is the relationship between the input and the output Function square returns the square of an input x.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Higher Order Functions" />
<meta property="og:description" content="Higher Order Functions#Designing Functions#Describing Functions#   Aspect Example     The domain of a function is the expected range of inputs (similarly to a domain in mathematics) x is a string.   The range of a function is the set of output values that could be returned Function square returns a non-negative number.   The behavior of a (pure) function is the relationship between the input and the output Function square returns the square of an input x." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cs61a.rouxl.es/docs/week-2/content/higher-order-functions/" /><meta property="article:section" content="docs" />



<title>Higher Order Functions | CS61A Notes</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.53a5dbabc20bef689642d11498e1d272a687a7fcab9f3044da32a395789d5002.css" integrity="sha256-U6Xbq8IL72iWQtEUmOHScqaHp/yrnzBE2jKjlXidUAI=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.d648ae20326e519faca7ce68015a39a2aa170f8c37133169592f20a8857e3ade.js" integrity="sha256-1kiuIDJuUZ&#43;sp85oAVo5oqoXD4w3EzFpWS8gqIV&#43;Ot4=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>CS61A Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 1</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-1/content/introduction/" class="">Introduction to the Basics of Python</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 2</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/control/" class="">Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/higher-order-functions/" class=" active">Higher Order Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/environment/" class="">Environment Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 3</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/design/" class="">Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/decorators/" class="">Decorators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 4</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/recursion/" class="">Recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/tree-recursion/" class="">Tree Recursion</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 5</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/containers/" class="">Containers</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/sequences/" class="">Sequences</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/data-abstraction/" class="">Data Abstraction &#43; Dictionaries</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 6</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/trees/" class="">Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/mutability/" class="">Mutability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 7</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/iterators/" class="">Iterators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/generators/" class="">Generators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/objects/" class="">Objects</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 8</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/representation/" class="">Representation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/recursive-data/" class="">Recursive Data</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 9</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-9/content/efficiency/" class="">Efficiency</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-10/" class="">Week 10</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 11</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-11/content/scheme/" class="">Scheme</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>How To Succeed</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/succeed/content/general-tips/" class="">General Tips</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/succeed/content/midterm-1/" class="">Midterm 1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/contributors/" class="">Contributors</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Higher Order Functions</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#designing-functions">Designing Functions</a>
      <ul>
        <li><a href="#describing-functions">Describing Functions</a></li>
        <li><a href="#dont-repeat-yourself">Don&rsquo;t Repeat Yourself!</a></li>
        <li><a href="#generalization">Generalization</a></li>
      </ul>
    </li>
    <li><a href="#higher-order-functions-1">Higher-order Functions</a>
      <ul>
        <li><a href="#functions-as-arguments">Functions as Arguments</a></li>
        <li><a href="#functions-as-return-values">Functions as Return Values</a></li>
        <li><a href="#call-expressions-as-operator-expressions">Call Expressions as operator expressions</a></li>
      </ul>
    </li>
    <li><a href="#lambda-expressions">Lambda Expressions</a></li>
    <li><a href="#conditional-expressions">Conditional Expressions</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="higher-order-functions">
  Higher Order Functions
  <a class="anchor" href="#higher-order-functions">#</a>
</h1>
<h2 id="designing-functions">
  Designing Functions
  <a class="anchor" href="#designing-functions">#</a>
</h2>
<h3 id="describing-functions">
  Describing Functions
  <a class="anchor" href="#describing-functions">#</a>
</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Aspect</th>
<th style="text-align:left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">The <code>domain</code> of a function is the expected range of inputs (similarly to a domain in mathematics)</td>
<td style="text-align:left"><code>x</code> is a string.</td>
</tr>
<tr>
<td style="text-align:left">The <code>range</code> of a function is the set of output values that could be returned</td>
<td style="text-align:left">Function <code>square</code> returns a non-negative number.</td>
</tr>
<tr>
<td style="text-align:left">The <code>behavior</code> of a (pure) function is the relationship between the input and the output</td>
<td style="text-align:left">Function <code>square</code> returns the square of an input <code>x</code>.</td>
</tr>
</tbody>
</table>
<h3 id="dont-repeat-yourself">
  Don&rsquo;t Repeat Yourself!
  <a class="anchor" href="#dont-repeat-yourself">#</a>
</h3>
<p>When making a function, give each function exactly one job, but allow it to be flexible to apply to many related situations. Doing this allows you to remove redundant code and make your code clearer to read, and easier to write.</p>
<h3 id="generalization">
  Generalization
  <a class="anchor" href="#generalization">#</a>
</h3>
<p>If you see a common structure, you can refactor your code to move the redundant code to a function and call that instead.</p>
<p>For example, if we take this code block below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_ben_if_positive</span>(n):
    <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
        print(<span style="color:#e6db74">&#34;ben&#34;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_ben_if_positive</span>(n):
    <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
        print(<span style="color:#e6db74">&#34;tao&#34;</span>)
</code></pre></div><p>We can see that the <code>if</code> statement is duplicated, so we can take that logic to another function instead, removing redundant code.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">positive_print</span>(number, message):
    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
        print(message)

positive_print(n, <span style="color:#e6db74">&#34;ben&#34;</span>)
positive_print(n, <span style="color:#e6db74">&#34;tao&#34;</span>)
</code></pre></div><h2 id="higher-order-functions-1">
  Higher-order Functions
  <a class="anchor" href="#higher-order-functions-1">#</a>
</h2>
<p>A <strong>higher-order function</strong> is a function that takes <strong>another function</strong> as an argument, or <strong>returns a function</strong> as its result.</p>
<h3 id="functions-as-arguments">
  Functions as Arguments
  <a class="anchor" href="#functions-as-arguments">#</a>
</h3>
<p>A function can take another function as an argument.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> add, sub

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">function_in_function</span>(adding_function, x, y):
    <span style="color:#66d9ef">return</span> adding_function(x, y)

function_in_function(add, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>) <span style="color:#75715e"># &gt;&gt;&gt; 5</span>
function_in_function(sub, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>) <span style="color:#75715e"># &gt;&gt;&gt; 1</span>
</code></pre></div><p>In the example above, we passed the <code>add</code> and <code>sub</code> functions to the function <code>function_in_function</code>. This is an example of a higher order function.</p>
<blockquote class="book-hint info">
  Note that in the call functions themselves, <code>add</code> and <code>sub</code> were called rather than <code>add()</code> and <code>sub()</code>. This is because of how call functions are evaluated. Running <code>add()</code> directly will make the Python interpreter try to evaluate the function itself with no parameters, which would not work, while simply typing <code>add</code> will allow <code>function_in_function</code> to evaluate <code>add()</code> with the proper parameters.
</blockquote>

<h3 id="functions-as-return-values">
  Functions as Return Values
  <a class="anchor" href="#functions-as-return-values">#</a>
</h3>
<p>Another way to have a higher order function is to return a function.</p>
<p>Functions created in other functions are bound to names in their <strong>local frame</strong>, allowing for cleaner naming when creating function calls. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_adder</span>(magnitude):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">adder</span>(n):
        <span style="color:#66d9ef">return</span> n <span style="color:#f92672">+</span> magnitude
    
    <span style="color:#66d9ef">return</span> adder

add_two <span style="color:#f92672">=</span> make_adder(<span style="color:#ae81ff">2</span>)
add_three <span style="color:#f92672">=</span> make_adder(<span style="color:#ae81ff">3</span>)

print(add_two(<span style="color:#ae81ff">2</span>), add_three(<span style="color:#ae81ff">2</span>)) <span style="color:#75715e"># &gt;&gt;&gt; 4 5</span>
</code></pre></div><p>While the example above may not have much practical use, it shows the process of returning a function within a function, making this another <strong>higher order function</strong>. Take your time to digest how the above two examples work. This will be harder to conceptualize at the beginning.</p>
<h3 id="call-expressions-as-operator-expressions">
  Call Expressions as operator expressions
  <a class="anchor" href="#call-expressions-as-operator-expressions">#</a>
</h3>
<p>You can run a function like <code>make_adder(2)(3)</code> which will return <code>5</code>. Why is that? Let&rsquo;s look at how the call function order works.</p>
<ol>
<li><code>make_adder(2)</code> is first evaluated, which returns a function <code>adder</code> similarly to the function above.</li>
<li>Due to <code>adder</code> being returned from the operator, the final statement will end up being <code>adder(3)</code>, leading to <code>5</code> being the final output</li>
</ol>
<h2 id="lambda-expressions">
  Lambda Expressions
  <a class="anchor" href="#lambda-expressions">#</a>
</h2>
<p>Lambda expressions pretty much work the same way as regular functions, other than the fact that these functions are <strong>anonymous</strong> - they do not have a name assigned to it.</p>
<p>The syntax looks like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">lambda</span> <span style="color:#f92672">&lt;</span>parameters<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>expression<span style="color:#f92672">&gt;</span>
</code></pre></div><p>For instance:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">double <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: y<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>

double(<span style="color:#ae81ff">3</span>) <span style="color:#75715e"># &gt;&gt;&gt; 6</span>
</code></pre></div><p>While this may not seem very useful in this context, there are quite a few uses for it. The main idea is that <code>lambda</code> functions are better suited for functions that you want to access in the short term, or only access once.</p>
<p>A lambda function does not contain any statements at all, including <code>if</code> statements and <code>return</code> statements.</p>
<p>For instance, instead of doing</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> add

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">square</span>(x):
    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>

add(<span style="color:#ae81ff">2</span>, square(<span style="color:#ae81ff">2</span>))
</code></pre></div><p>You can do the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> operator <span style="color:#f92672">import</span> add

add(<span style="color:#ae81ff">2</span>, <span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)
</code></pre></div><h2 id="conditional-expressions">
  Conditional Expressions
  <a class="anchor" href="#conditional-expressions">#</a>
</h2>
<p><code>lambda</code> functions not allowing statements can be quite limiting, but that is where <strong>conditional expressions</strong> come in.</p>
<p>A conditional expression has a form that almost reads like English:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&lt;</span>do this (true)<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">&lt;</span>condition<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">&lt;</span>do this (false)<span style="color:#f92672">&gt;</span>
</code></pre></div><p>This may be strange if you&rsquo;re used to ternary operators in other languages (for example JavaScript) as the order of reading the Python statement may be a bit strange.</p>
<p>However, the operation order is the following:</p>
<ol>
<li>Check the truthiness of <code>&lt;condition&gt;</code></li>
<li>If true, evaluate <code>&lt;do this (true)&gt;</code></li>
<li>Else, evaluate <code>&lt;do this (false)&gt;</code></li>
</ol>
<p>In conjunction with <code>lambda</code> functions, you can do the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">lambda</span> x: x <span style="color:#66d9ef">if</span> x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>The code block above returns the input if it is positive, else returns <code>0</code>.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#designing-functions">Designing Functions</a>
      <ul>
        <li><a href="#describing-functions">Describing Functions</a></li>
        <li><a href="#dont-repeat-yourself">Don&rsquo;t Repeat Yourself!</a></li>
        <li><a href="#generalization">Generalization</a></li>
      </ul>
    </li>
    <li><a href="#higher-order-functions-1">Higher-order Functions</a>
      <ul>
        <li><a href="#functions-as-arguments">Functions as Arguments</a></li>
        <li><a href="#functions-as-return-values">Functions as Return Values</a></li>
        <li><a href="#call-expressions-as-operator-expressions">Call Expressions as operator expressions</a></li>
      </ul>
    </li>
    <li><a href="#lambda-expressions">Lambda Expressions</a></li>
    <li><a href="#conditional-expressions">Conditional Expressions</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












