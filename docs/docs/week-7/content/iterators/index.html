<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Iterators#What is an Iterator#An iterator is an object that provides sequential access to values in an iterable one by one.
While you may not see the use of them at the moment, the benefits of using them will be explained a bit later in these sets of notes.
 iter(iterable) returns an iterator over the elements of iterable. next(&lt;iter&gt;) returns the next element in an iterator.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Iterators" />
<meta property="og:description" content="Iterators#What is an Iterator#An iterator is an object that provides sequential access to values in an iterable one by one.
While you may not see the use of them at the moment, the benefits of using them will be explained a bit later in these sets of notes.
 iter(iterable) returns an iterator over the elements of iterable. next(&lt;iter&gt;) returns the next element in an iterator." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cs61a.rouxl.es/docs/week-7/content/iterators/" /><meta property="article:section" content="docs" />



<title>Iterators | CS61A-Notes</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.53a5dbabc20bef689642d11498e1d272a687a7fcab9f3044da32a395789d5002.css" integrity="sha256-U6Xbq8IL72iWQtEUmOHScqaHp/yrnzBE2jKjlXidUAI=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.9f206f765bb27cb0c18aef7c7e934cc1f48118c8264b06f97e31b2b3edd485aa.js" integrity="sha256-nyBvdluyfLDBiu98fpNMwfSBGMgmSwb5fjGys&#43;3Uhao=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>CS61A-Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 1</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-1/content/introduction/" class="">Introduction to the Basics of Python</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 2</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/control/" class="">Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/higher-order-functions/" class="">Higher Order Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/environment/" class="">Environment Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 3</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/design/" class="">Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/decorators/" class="">Decorators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 4</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/recursion/" class="">Recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/tree-recursion/" class="">Tree Recursion</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 5</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/containers/" class="">Containers</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/sequences/" class="">Sequences</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/data-abstraction/" class="">Data Abstraction &#43; Dictionaries</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 6</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/trees/" class="">Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/mutability/" class="">Mutability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 7</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/iterators/" class=" active">Iterators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Iterators</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-an-iterator">What is an Iterator</a></li>
    <li><a href="#calling-an-iterator-on-an-iterator">Calling an Iterator on an Iterator</a></li>
    <li><a href="#calling-iterators-on-iterables">Calling Iterators on Iterables</a>
      <ul>
        <li><a href="#dictionaries">Dictionaries</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#functions-that-return-iterables">Functions that return iterables</a></li>
    <li><a href="#functions-that-return-iterators">Functions that return iterators</a></li>
    <li><a href="#map-filter-and-reduce">Map, Filter, and Reduce</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="iterators">
  Iterators
  <a class="anchor" href="#iterators">#</a>
</h1>
<h2 id="what-is-an-iterator">
  What is an Iterator
  <a class="anchor" href="#what-is-an-iterator">#</a>
</h2>
<p>An iterator is an object that provides sequential access to values in an iterable one by one.</p>
<p>While you may not see the use of them at the moment, the benefits of using them will be explained a bit later in these sets of notes.</p>
<ul>
<li><code>iter(iterable)</code> returns an iterator over the elements of <code>iterable</code>.</li>
<li><code>next(&lt;iter&gt;)</code> returns the next element in an <code>iterator</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]

iter_numbers <span style="color:#f92672">=</span> iter(numbers)

next(iter_numbers) <span style="color:#75715e"># 1</span>
next(iter_numbers) <span style="color:#75715e"># 2</span>
next(iter_numbers) <span style="color:#75715e"># 3</span>
next(iter_numbers) <span style="color:#75715e"># Error (StopIterator exception)</span>
</code></pre></div><p>In CS61A, questions will never get to the point where handling the <code>StopIterator</code> error will need to happen, but a <code>try ... except</code> code block can handle that error. If you ever get a <code>StopIterator</code> error in your HW or Lab questions, you can just assume you did something wrong.</p>
<hr>
<p>You can think of an iterator like a bookmark and a book.</p>
<p>Imagine we have a list <code>lst</code> that contains chapters of a book, with every element containing a single chapter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]
</code></pre></div><p>When we call <code>iter</code> on said list, we essentially create a <em>bookmark</em> starting on chapter <code>0</code> (before any other chapters). After finishing a chapter, calling <code>next</code> on the iterator will move the bookmark to chapter <code>1</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]
bookmark1 <span style="color:#f92672">=</span> iter(lst)

<span style="color:#75715e"># [1, 2, 3, 4, 5, 6] - no bookmark so far</span>
<span style="color:#75715e"># ^</span>

next(bookmark1) <span style="color:#75715e"># 1</span>

<span style="color:#75715e"># [(1), 2, 3, 4, 5, 6] - bookmark on 1</span>
<span style="color:#75715e">#   ^</span>
</code></pre></div><p>If we wanted to create a new bookmark with the same book, we can just call <code>iter</code> again, which would keep <code>bookmark1</code> the same.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]
bookmark1 <span style="color:#f92672">=</span> iter(lst)
bookmark2 <span style="color:#f92672">=</span> iter(lst)

next(bookmark1) <span style="color:#75715e"># 1</span>
next(bookmark1) <span style="color:#75715e"># 2</span>
<span style="color:#75715e"># [1, (2), 3, 4, 5, 6] - bookmark on 2</span>
<span style="color:#75715e">#      ^</span>
next(bookmark2) <span style="color:#75715e"># 1</span>
<span style="color:#75715e"># [(1), 2, 3, 4, 5, 6] - bookmark on 1</span>
<span style="color:#75715e">#   ^</span>
</code></pre></div><h2 id="calling-an-iterator-on-an-iterator">
  Calling an Iterator on an Iterator
  <a class="anchor" href="#calling-an-iterator-on-an-iterator">#</a>
</h2>
<p>If you call <code>iter</code> on an already-made iterator, similarly to lists, it just points to the same iterator. With our bookmark analogy, it&rsquo;s like getting another variable pointing to the same bookmark — calling next on one instance will also update the bookmark for the other variable.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]
bookmark1 <span style="color:#f92672">=</span> iter(lst)
alt_bookmark1 <span style="color:#f92672">=</span> iter(bookmark1)

next(bookmark1) <span style="color:#75715e"># 1</span>
next(alt_bookmark1) <span style="color:#75715e"># 2</span>
</code></pre></div><h2 id="calling-iterators-on-iterables">
  Calling Iterators on Iterables
  <a class="anchor" href="#calling-iterators-on-iterables">#</a>
</h2>
<p><code>strings</code>, <code>lists</code>, <code>dictionaries</code>, <code>tuples</code>, <code>ranges</code>, etc. are all <strong>iterables</strong>. You can call iterators on them and access them sequentially. This should be pretty obvious, but there are special methods that exists for dictionaries</p>
<h3 id="dictionaries">
  Dictionaries
  <a class="anchor" href="#dictionaries">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">numbers <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#34;one&#34;</span>: <span style="color:#ae81ff">1</span>,
    <span style="color:#e6db74">&#34;two&#34;</span>: <span style="color:#ae81ff">2</span>,
    <span style="color:#e6db74">&#34;three&#34;</span>: <span style="color:#ae81ff">3</span>
}

<span style="color:#75715e"># Iterator for keys</span>
key_iter <span style="color:#f92672">=</span> iter(numbers<span style="color:#f92672">.</span>keys())
next(key_iter) <span style="color:#75715e"># &#34;one&#34;</span>

<span style="color:#75715e"># Iterator for values</span>
value_iter <span style="color:#f92672">=</span> iter(numbers<span style="color:#f92672">.</span>values())
next(value_iter) <span style="color:#75715e"># 1</span>

<span style="color:#75715e"># Iterators for key/value tuples</span>
dict_iter <span style="color:#f92672">=</span> iter(numbers<span style="color:#f92672">.</span>items())
next(dict_iter) <span style="color:#75715e"># (&#34;one&#34;, 1)</span>
</code></pre></div><h1 id="iterators-with-for-loops">
  Iterators with For Loops
  <a class="anchor" href="#iterators-with-for-loops">#</a>
</h1>
<p>When an iterator is used in a <code>for ... in</code> loop, Python will keep calling <code>next</code> on the iterator until a <code>StopIterator</code> error occurs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
iter_lst <span style="color:#f92672">=</span> iter(lst)

<span style="color:#66d9ef">for</span> item <span style="color:#f92672">in</span> iter_list:
    print(item)

<span style="color:#75715e"># 1</span>
<span style="color:#75715e"># 2</span>
<span style="color:#75715e"># 3</span>

next(iter_lst) <span style="color:#75715e"># StopIterator error</span>
</code></pre></div><p>The <code>for</code> loop would go through the whole book, moving the bookmark to the end. As a result, when you call <code>next</code> again, the bookmark would be at the end, meaning that there are no more additional chapters, so a <code>StopIterator</code> error will occur.</p>
<blockquote class="book-hint info">
  This behaviour implies that iterators are <strong>mutable</strong>. One an iterator moves forward, it is unable to return the values that came before.
</blockquote>

<h1 id="useful-built-in-functions">
  Useful Built-in Functions
  <a class="anchor" href="#useful-built-in-functions">#</a>
</h1>
<h2 id="functions-that-return-iterables">
  Functions that return iterables
  <a class="anchor" href="#functions-that-return-iterables">#</a>
</h2>
<table>
<thead>
<tr>
<th style="text-align:left">Function</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>list(iterator)</code></td>
<td style="text-align:left">Returns a list of all items in <code>iterator</code> starting on the current pointer location.</td>
</tr>
<tr>
<td style="text-align:left"><code>tuple(iterator)</code></td>
<td style="text-align:left">Returns a tuple of all items in <code>iterator</code> starting on the current pointer location.</td>
</tr>
<tr>
<td style="text-align:left"><code>sorted(iterator)</code></td>
<td style="text-align:left">Returns a <strong>sorted</strong> list of all items in <code>iterator</code> starting on the current pointer location.</td>
</tr>
</tbody>
</table>
<h2 id="functions-that-return-iterators">
  Functions that return iterators
  <a class="anchor" href="#functions-that-return-iterators">#</a>
</h2>
<p>These are slightly more complicated, so examples will be given for each of the following below:</p>
<p><code>reversed(sequence)</code>: Iterates over item in <code>sequence</code> in <strong>reverse</strong> order. Returns an <code>iterator</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]

print(list(reversed(lst))) <span style="color:#75715e"># [3, 2, 1]</span>

<span style="color:#75715e"># list() needs to be called because reversed returns an iterator</span>

<span style="color:#66d9ef">for</span> item <span style="color:#f92672">in</span> reversed(lst):
    print(item)

<span style="color:#75715e"># 3</span>
<span style="color:#75715e"># 2</span>
<span style="color:#75715e"># 1</span>
</code></pre></div><p><code>zip(*iterables)</code>: Iterates over <em>co-indexed</em> tuples with elements from each <code>iterable</code>. Stops at the shortest list.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
lst2 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

<span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> zip(lst1, lst2):
    print(t)

<span style="color:#75715e"># (1, 4)</span>
<span style="color:#75715e"># (2, 5)</span>
<span style="color:#75715e"># (3, 6)</span>

<span style="color:#66d9ef">for</span> x, y <span style="color:#f92672">in</span> zip(lst1, lst2)
print(x <span style="color:#f92672">+</span> y)

<span style="color:#75715e"># 5</span>
<span style="color:#75715e"># 7</span>
<span style="color:#75715e"># 9</span>
</code></pre></div><h2 id="map-filter-and-reduce">
  Map, Filter, and Reduce
  <a class="anchor" href="#map-filter-and-reduce">#</a>
</h2>
<p>For <code>map</code> and <code>filter</code> specifically, you can simply use list comprehensions — they&rsquo;re shorter and far more &lsquo;Pythonic&rsquo;. However, knowing the notation for these two functions can help you recognize them in other languages.</p>
<p><code>map(function, iterable)</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
mapped_lst <span style="color:#f92672">=</span> map(<span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>, lst)
print(list(mapped_lst)) <span style="color:#75715e"># [2, 4, 6]</span>

<span style="color:#75715e"># Which is the same thing as</span>
[x<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> lst]
</code></pre></div><p><code>filter(function, iterable)</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
mapped_lst <span style="color:#f92672">=</span> map(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>, lst)
print(list(mapped_lst)) <span style="color:#75715e"># [1, 3]</span>

<span style="color:#75715e"># Which is the same thing as</span>
[x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> lst <span style="color:#66d9ef">if</span> x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>]
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-an-iterator">What is an Iterator</a></li>
    <li><a href="#calling-an-iterator-on-an-iterator">Calling an Iterator on an Iterator</a></li>
    <li><a href="#calling-iterators-on-iterables">Calling Iterators on Iterables</a>
      <ul>
        <li><a href="#dictionaries">Dictionaries</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#functions-that-return-iterables">Functions that return iterables</a></li>
    <li><a href="#functions-that-return-iterators">Functions that return iterators</a></li>
    <li><a href="#map-filter-and-reduce">Map, Filter, and Reduce</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












