<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Recursive Data#Linked Lists#Python lists are implemented in a way that makes inserting and deleting from the front of a list very inefficient. This is because Python implemented a list such that the first element of the list is always at the same memory location and elements in a list are located right next to each other, so when something is inserted to the start, everything gets pushed forward by one space in memory to make space for an element.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Recursive Data" />
<meta property="og:description" content="Recursive Data#Linked Lists#Python lists are implemented in a way that makes inserting and deleting from the front of a list very inefficient. This is because Python implemented a list such that the first element of the list is always at the same memory location and elements in a list are located right next to each other, so when something is inserted to the start, everything gets pushed forward by one space in memory to make space for an element." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cs61a.rouxl.es/docs/week-8/content/recursive-data/" /><meta property="article:section" content="docs" />



<title>Recursive Data | CS61A-Notes</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.53a5dbabc20bef689642d11498e1d272a687a7fcab9f3044da32a395789d5002.css" integrity="sha256-U6Xbq8IL72iWQtEUmOHScqaHp/yrnzBE2jKjlXidUAI=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.79a999ca029018a05e3c09fa3ae9ebc36c859b47a1a2a694651612b3cf0369da.js" integrity="sha256-eamZygKQGKBePAn6Ounrw2yFm0ehoqaUZRYSs88Dado=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>CS61A-Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 1</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-1/content/introduction/" class="">Introduction to the Basics of Python</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 2</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/control/" class="">Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/higher-order-functions/" class="">Higher Order Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-2/content/environment/" class="">Environment Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 3</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/design/" class="">Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-3/content/decorators/" class="">Decorators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 4</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/recursion/" class="">Recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-4/content/tree-recursion/" class="">Tree Recursion</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 5</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/containers/" class="">Containers</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/sequences/" class="">Sequences</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-5/content/data-abstraction/" class="">Data Abstraction &#43; Dictionaries</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 6</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/trees/" class="">Trees</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-6/content/mutability/" class="">Mutability</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 7</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/iterators/" class="">Iterators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/generators/" class="">Generators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-7/content/objects/" class="">Objects</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 8</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/representation/" class="">Representation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-8/content/recursive-data/" class=" active">Recursive Data</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 9</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://cs61a.rouxl.es/docs/week-9/content/efficiency/" class="">Efficiency</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Recursive Data</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#linked-lists">Linked Lists</a></li>
    <li><a href="#link-class">Link Class</a></li>
    <li><a href="#tree-class">Tree Class</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="recursive-data">
  Recursive Data
  <a class="anchor" href="#recursive-data">#</a>
</h1>
<h2 id="linked-lists">
  Linked Lists
  <a class="anchor" href="#linked-lists">#</a>
</h2>
<p>Python lists are implemented in a way that makes inserting and deleting from the front of a list very inefficient. This is because Python implemented a list such that the first element of the list is always at the same memory location and elements in a list are located right next to each other, so when something is inserted to the start, everything gets pushed forward by one space in memory to make space for an element.</p>
<p>If you ever need to constantly add to the front of a list, a Python list may not be a good idea. That&rsquo;s where a Linked List can come in handy.</p>
<p>Imagine building a list where each element can be anywhere in memory, and all that needs to happen is that one element knows where the next is:</p>
<p><img src="https://i.imgur.com/eDYdRlh.png" alt="" /></p>
<p>I drew each node (or element) in a different location on the page just to illustrate that these blocks could be anywhere on the page and do not need to be directly next to each other like in a list. Each instance/element/node of our linked list just needs a value inside it, and an arrow pointing to the next linked list object. If we think of it this way, we can construct our own Linked List class.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Link</span>:
    empty <span style="color:#f92672">=</span> () <span style="color:#75715e"># How we will refer to an empty linked list</span>
    <span style="color:#66d9ef">def</span> __init__(self, first, rest <span style="color:#f92672">=</span> empty):
        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> first
        self<span style="color:#f92672">.</span>rest <span style="color:#f92672">=</span> rest
</code></pre></div><p>Using this class, we can then define our first linked list!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">my_link <span style="color:#f92672">=</span> Link(<span style="color:#ae81ff">1</span>, Link(<span style="color:#ae81ff">2</span>), Link(<span style="color:#ae81ff">3</span>)) <span style="color:#75715e"># Notice how similar it is to the tree data abstraction you used earlier</span>
</code></pre></div><p>In the example above, <code>1</code> is what gets stored in <code>self.first</code>, while <code>Link(2, Link(3))</code> is what gets stored in <code>self.rest</code>, meaning that we are able to continue accessing our linked list.</p>
<p>However, you can notice one thing straight away!</p>
<h2 id="link-class">
  Link Class
  <a class="anchor" href="#link-class">#</a>
</h2>
<p>A fancier version of the linked list that CS61A uses is the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Link</span>:
    <span style="color:#e6db74">&#34;&#34;&#34;A linked list.&#34;&#34;&#34;</span>
    empty <span style="color:#f92672">=</span> ()

    <span style="color:#66d9ef">def</span> __init__(self, first, rest<span style="color:#f92672">=</span>empty):
        <span style="color:#66d9ef">assert</span> rest <span style="color:#f92672">is</span> Link<span style="color:#f92672">.</span>empty <span style="color:#f92672">or</span> isinstance(rest, Link) <span style="color:#75715e"># makes sure that the rest is either a linked list or emtpy</span>
        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> first
        self<span style="color:#f92672">.</span>rest <span style="color:#f92672">=</span> rest

    <span style="color:#66d9ef">def</span> __repr__(self):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>rest:
            rest_repr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;, &#39;</span> <span style="color:#f92672">+</span> repr(self<span style="color:#f92672">.</span>rest)
        <span style="color:#66d9ef">else</span>:
            rest_repr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Link(&#39;</span> <span style="color:#f92672">+</span> repr(self<span style="color:#f92672">.</span>first) <span style="color:#f92672">+</span> rest_repr <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;)&#39;</span> <span style="color:#75715e"># Returns the link class</span>

    <span style="color:#66d9ef">def</span> __str__(self):
        string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;&#39;</span>
        <span style="color:#66d9ef">while</span> self<span style="color:#f92672">.</span>rest <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> Link<span style="color:#f92672">.</span>empty:
            string <span style="color:#f92672">+=</span> str(self<span style="color:#f92672">.</span>first) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#75715e"># Recursion!!!</span>
            self <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>rest
        <span style="color:#66d9ef">return</span> string <span style="color:#f92672">+</span> str(self<span style="color:#f92672">.</span>first) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&gt;&#39;</span>
</code></pre></div><h2 id="tree-class">
  Tree Class
  <a class="anchor" href="#tree-class">#</a>
</h2>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#linked-lists">Linked Lists</a></li>
    <li><a href="#link-class">Link Class</a></li>
    <li><a href="#tree-class">Tree Class</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












